# è´¡çŒ®æŒ‡å—

æ„Ÿè°¢æ‚¨å¯¹MyEtcdé¡¹ç›®çš„å…³æ³¨ï¼æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºä»£ç ã€æ–‡æ¡£ã€æµ‹è¯•ã€é—®é¢˜åé¦ˆå’Œå»ºè®®ã€‚

## ğŸ¤ å¦‚ä½•è´¡çŒ®

### æŠ¥å‘Šé—®é¢˜

å¦‚æœæ‚¨å‘ç°äº†bugæˆ–æœ‰åŠŸèƒ½å»ºè®®ï¼Œè¯·ï¼š

1. æ£€æŸ¥[ç°æœ‰Issues](https://github.com/EvildoerXiaoyy/MyEtcd/issues)ç¡®è®¤é—®é¢˜æœªè¢«æŠ¥å‘Š
2. å¦‚æœæ˜¯æ–°é—®é¢˜ï¼Œè¯·åˆ›å»ºä¸€ä¸ªIssueå¹¶ä½¿ç”¨ç›¸åº”çš„æ¨¡æ¿
3. æä¾›è¯¦ç»†çš„é—®é¢˜æè¿°ã€é‡ç°æ­¥éª¤å’Œç¯å¢ƒä¿¡æ¯

### æäº¤ä»£ç 

1. **Forké¡¹ç›®**
   ```bash
   # åœ¨GitHubä¸Šforké¡¹ç›®åˆ°æ‚¨çš„è´¦æˆ·
   # ç„¶åå…‹éš†æ‚¨çš„fork
   git clone https://github.com/YOUR_USERNAME/MyEtcd.git
   cd MyEtcd
   ```

2. **åˆ›å»ºåˆ†æ”¯**
   ```bash
   # åˆ›å»ºä¸€ä¸ªæ–°çš„ç‰¹æ€§åˆ†æ”¯
   git checkout -b feature/your-feature-name
   
   # æˆ–è€…ä¿®å¤bug
   git checkout -b fix/bug-description
   ```

3. **è¿›è¡Œå¼€å‘**
   - éµå¾ªé¡¹ç›®çš„ä»£ç è§„èŒƒ
   - æ·»åŠ å¿…è¦çš„æµ‹è¯•
   - æ›´æ–°ç›¸å…³æ–‡æ¡£
   - ç¡®ä¿æ‰€æœ‰æµ‹è¯•é€šè¿‡

4. **æäº¤æ›´æ”¹**
   ```bash
   # æ·»åŠ æ›´æ”¹
   git add .
   
   # æäº¤ï¼ˆä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯ï¼‰
   git commit -m "feat: add new feature description"
   ```

5. **æ¨é€å¹¶åˆ›å»ºPR**
   ```bash
   # æ¨é€åˆ°æ‚¨çš„fork
   git push origin feature/your-feature-name
   
   # åœ¨GitHubä¸Šåˆ›å»ºPull Request
   ```

## ğŸ“ å¼€å‘è§„èŒƒ

### ä»£ç é£æ ¼

- **Goä»£ç è§„èŒƒ**: éµå¾ª[Goå®˜æ–¹ä»£ç è§„èŒƒ](https://golang.org/doc/effective_go.html)
- **æ ¼å¼åŒ–**: ä½¿ç”¨`gofmt`æ ¼å¼åŒ–ä»£ç 
- **æ³¨é‡Š**: ä¸ºå…¬å…±å‡½æ•°å’Œå¤æ‚é€»è¾‘æ·»åŠ è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š
- **å‘½å**: ä½¿ç”¨æ¸…æ™°ã€æè¿°æ€§çš„å˜é‡å’Œå‡½æ•°å

### æäº¤ä¿¡æ¯è§„èŒƒ

ä½¿ç”¨[Conventional Commits](https://www.conventionalcommits.org/)è§„èŒƒï¼š

```
<type>[optional scope]: <description>

[optional body]

[optional footer(s)]
```

ç±»å‹è¯´æ˜ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼åŒ–ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„ä»£ç 
- `test`: æ·»åŠ æˆ–ä¿®æ”¹æµ‹è¯•
- `chore`: æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨

ç¤ºä¾‹ï¼š
```
feat(watch): add prefix filtering support for watch mechanism

- Add prefix filtering in watcher.go
- Update API endpoint to support prefix parameter
- Add unit tests for new functionality

Closes #123
```

### æµ‹è¯•è¦æ±‚

- **å•å…ƒæµ‹è¯•**: æ–°åŠŸèƒ½å¿…é¡»åŒ…å«å•å…ƒæµ‹è¯•
- **é›†æˆæµ‹è¯•**: é‡è¦åŠŸèƒ½éœ€è¦é›†æˆæµ‹è¯•
- **æµ‹è¯•è¦†ç›–ç‡**: ä¿æŒæµ‹è¯•è¦†ç›–ç‡åœ¨80%ä»¥ä¸Š
- **æ€§èƒ½æµ‹è¯•**: æ€§èƒ½æ•æ„Ÿçš„ä»£ç éœ€è¦åŸºå‡†æµ‹è¯•

è¿è¡Œæµ‹è¯•ï¼š
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
make test

# è¿è¡Œç‰¹å®šæµ‹è¯•
go test -v ./tests/...

# è¿è¡ŒåŸºå‡†æµ‹è¯•
make benchmark

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
go test -coverprofile=coverage.out ./...
go tool cover -html=coverage.out
```

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

```
MyEtcd/
â”œâ”€â”€ cmd/                 # åº”ç”¨ç¨‹åºå…¥å£
â”œâ”€â”€ internal/            # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ api/            # HTTP API
â”‚   â”œâ”€â”€ storage/        # å­˜å‚¨å¼•æ“
â”‚   â”œâ”€â”€ wal/            # é¢„å†™æ—¥å¿—
â”‚   â”œâ”€â”€ watch/          # Watchæœºåˆ¶
â”‚   â”œâ”€â”€ lease/          # ç§Ÿçº¦ç³»ç»Ÿ
â”‚   â”œâ”€â”€ raft/           # Raftç®—æ³•
â”‚   â”œâ”€â”€ metrics/        # ç›‘æ§æŒ‡æ ‡
â”‚   â”œâ”€â”€ config/         # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ logger/         # æ—¥å¿—ç³»ç»Ÿ
â”‚   â””â”€â”€ benchmark/      # åŸºå‡†æµ‹è¯•
â”œâ”€â”€ tests/              # æµ‹è¯•æ–‡ä»¶
â”œâ”€â”€ examples/           # ç¤ºä¾‹ä»£ç 
â”œâ”€â”€ docs/               # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ config/             # é…ç½®æ–‡ä»¶
â””â”€â”€ .github/            # GitHubé…ç½®
```

## ğŸ”§ å¼€å‘ç¯å¢ƒè®¾ç½®

### å‰ç½®è¦æ±‚

- Go 1.19+
- Docker (å¯é€‰)
- Git

### è®¾ç½®æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone https://github.com/EvildoerXiaoyy/MyEtcd.git
   cd MyEtcd
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   go mod download
   ```

3. **è¿è¡Œæµ‹è¯•**
   ```bash
   make test
   ```

4. **æ„å»ºé¡¹ç›®**
   ```bash
   make build
   ```

### å¼€å‘å·¥å…·

æ¨èå®‰è£…ä»¥ä¸‹å·¥å…·ä»¥æé«˜å¼€å‘æ•ˆç‡ï¼š

```bash
# ä»£ç æ ¼å¼åŒ–å·¥å…·
go install golang.org/x/tools/cmd/goimports@latest

# é™æ€åˆ†æå·¥å…·
go install github.com/golangci/golangci-lint/cmd/golangci-lint@latest

# å¤æ‚åº¦åˆ†æå·¥å…·
go install github.com/fzipp/gocyclo/cmd/gocyclo@latest

# æ–‡æ¡£å·¥å…·
go install github.com/swaggo/swag/cmd/swag@latest
```

## ğŸ“š æ–‡æ¡£è´¡çŒ®

### æ–‡æ¡£ç±»å‹

- **APIæ–‡æ¡£**: æ¥å£è¯´æ˜å’Œä½¿ç”¨ç¤ºä¾‹
- **å¼€å‘æ–‡æ¡£**: æ¶æ„è®¾è®¡å’Œå®ç°åŸç†
- **ç”¨æˆ·æ–‡æ¡£**: å®‰è£…ã€é…ç½®å’Œä½¿ç”¨æŒ‡å—
- **ç¤ºä¾‹ä»£ç **: å„ç§ä½¿ç”¨åœºæ™¯çš„ç¤ºä¾‹

### æ–‡æ¡£è§„èŒƒ

- ä½¿ç”¨Markdownæ ¼å¼
- æä¾›æ¸…æ™°çš„æ ‡é¢˜å±‚æ¬¡
- åŒ…å«ä»£ç ç¤ºä¾‹å’Œå‘½ä»¤è¡Œç¤ºä¾‹
- æ·»åŠ é€‚å½“çš„å›¾è¡¨å’Œæˆªå›¾

## ğŸ› é—®é¢˜åˆ†ç±»

### Bugä¼˜å…ˆçº§

- **P0 - ä¸¥é‡**: ç³»ç»Ÿå´©æºƒã€æ•°æ®ä¸¢å¤±ã€å®‰å…¨æ¼æ´
- **P1 - é«˜**: ä¸»è¦åŠŸèƒ½æ— æ³•ä½¿ç”¨ã€æ€§èƒ½ä¸¥é‡ä¸‹é™
- **P2 - ä¸­**: åŠŸèƒ½å¼‚å¸¸ä½†æœ‰æ›¿ä»£æ–¹æ¡ˆ
- **P3 - ä½**: ç”¨æˆ·ä½“éªŒé—®é¢˜ã€æ–‡æ¡£é”™è¯¯

### æ ‡ç­¾è¯´æ˜

- `bug`: BugæŠ¥å‘Š
- `enhancement`: åŠŸèƒ½å¢å¼º
- `good first issue`: é€‚åˆæ–°æ‰‹çš„é—®é¢˜
- `help wanted`: éœ€è¦å¸®åŠ©çš„é—®é¢˜
- `documentation`: æ–‡æ¡£ç›¸å…³
- `performance`: æ€§èƒ½ç›¸å…³
- `security`: å®‰å…¨ç›¸å…³
- `testing`: æµ‹è¯•ç›¸å…³

## ğŸš€ å‘å¸ƒæµç¨‹

### ç‰ˆæœ¬ç®¡ç†

é¡¹ç›®ä½¿ç”¨[è¯­ä¹‰åŒ–ç‰ˆæœ¬](https://semver.org/)ï¼š

- `MAJOR.MINOR.PATCH`
- `MAJOR`: ä¸å…¼å®¹çš„APIå˜æ›´
- `MINOR`: å‘åå…¼å®¹çš„åŠŸèƒ½æ–°å¢
- `PATCH`: å‘åå…¼å®¹çš„é—®é¢˜ä¿®æ­£

### å‘å¸ƒæ£€æŸ¥æ¸…å•

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [ ] æ–‡æ¡£å·²æ›´æ–°
- [ ] CHANGELOGå·²æ›´æ–°
- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°
- [ ] Dockeré•œåƒå·²æ„å»º
- [ ] æ€§èƒ½æµ‹è¯•é€šè¿‡
- [ ] å®‰å…¨æ‰«æé€šè¿‡

## ğŸ’¡ è´¡çŒ®å»ºè®®

### æ–°æ‰‹è´¡çŒ®

1. ä»`good first issue`æ ‡ç­¾çš„é—®é¢˜å¼€å§‹
2. ä¿®å¤æ–‡æ¡£ä¸­çš„æ‹¼å†™é”™è¯¯æˆ–æ ¼å¼é—®é¢˜
3. æ”¹è¿›é”™è¯¯æ¶ˆæ¯
4. æ·»åŠ æ›´å¤šçš„æµ‹è¯•ç”¨ä¾‹

### é«˜çº§è´¡çŒ®

1. å®ç°æ–°åŠŸèƒ½
2. æ€§èƒ½ä¼˜åŒ–
3. æ¶æ„æ”¹è¿›
4. å®‰å…¨å¢å¼º

### å­¦ä¹ èµ„æº

- [Goå®˜æ–¹æ–‡æ¡£](https://golang.org/doc/)
- [etcdæºç ](https://github.com/etcd-io/etcd)
- [Raftè®ºæ–‡](https://raft.github.io/raft.pdf)
- [åˆ†å¸ƒå¼ç³»ç»Ÿè®¾è®¡](https://book.douban.com/subject/26380823/)

## ğŸ“ è”ç³»æ–¹å¼

- **GitHub Issues**: [æäº¤é—®é¢˜](https://github.com/EvildoerXiaoyy/MyEtcd/issues)
- **GitHub Discussions**: [å‚ä¸è®¨è®º](https://github.com/EvildoerXiaoyy/MyEtcd/discussions)
- **Pull Requests**: [è´¡çŒ®ä»£ç ](https://github.com/EvildoerXiaoyy/MyEtcd/pulls)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºMyEtcdé¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

---

**å†æ¬¡æ„Ÿè°¢æ‚¨çš„è´¡çŒ®ï¼æ¯ä¸€ä¸ªè´¡çŒ®éƒ½è®©è¿™ä¸ªé¡¹ç›®å˜å¾—æ›´å¥½ã€‚ğŸ‰**